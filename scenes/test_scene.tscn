[gd_scene load_steps=18 format=3 uid="uid://ilgtopf4qqit"]

[ext_resource type="Script" path="res://data/scripts/world.gd" id="1_1nl11"]
[ext_resource type="Texture2D" uid="uid://cknnpbe7gnutf" path="res://data/prototype/Green/texture_01.png" id="2_dasfe"]
[ext_resource type="Texture2D" uid="uid://cjmy06h4u2c4r" path="res://data/prototype/Orange/texture_01.png" id="3_rtmuh"]
[ext_resource type="Texture2D" uid="uid://bfmbndv1sge56" path="res://data/sky.exr" id="3_xhwpm"]
[ext_resource type="PackedScene" uid="uid://dm5565mo1mrnr" path="res://data/Interactables/Button/Button.tscn" id="7_km5u8"]
[ext_resource type="PackedScene" uid="uid://cdkonoybsy5w2" path="res://data/Interactables/MovableObject/MovableObject.tscn" id="7_v25sy"]
[ext_resource type="PackedScene" uid="uid://4u1138el0tw3" path="res://data/Interactables/Door/Door.tscn" id="8_tb7gr"]
[ext_resource type="PackedScene" uid="uid://b485rq1b1kyx8" path="res://data/Interactables/PressurePlate/PressurePlate.tscn" id="9_g5xu0"]
[ext_resource type="PackedScene" uid="uid://dythclqr507rx" path="res://data/Interactables/GhostObject/GhostObject.tscn" id="10_yyol4"]
[ext_resource type="PackedScene" uid="uid://gqydq2n7l3i6" path="res://data/player/XRPlayer.tscn" id="11_hfw3n"]
[ext_resource type="PackedScene" uid="uid://dxgnn2qav3xj6" path="res://addons/kaykit_prototype_bits/Assets/obj/Barrel_A.tscn" id="11_y3l1f"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_6bxyf"]
panorama = ExtResource("3_xhwpm")

[sub_resource type="Sky" id="Sky_cvyow"]
sky_material = SubResource("PanoramaSkyMaterial_6bxyf")

[sub_resource type="Environment" id="Environment_xj5u1"]
background_mode = 2
sky = SubResource("Sky_cvyow")
ssao_enabled = true
fog_light_energy = 0.1
volumetric_fog_enabled = true
volumetric_fog_density = 0.02

[sub_resource type="GDScript" id="GDScript_7cs6d"]
script/source = "extends Interactable

func interact():
	print(\"Interacted!\")
	pass
"

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_i11u5"]
albedo_texture = ExtResource("3_rtmuh")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jxrtg"]
albedo_texture = ExtResource("2_dasfe")

[node name="world" type="Node3D"]
script = ExtResource("1_1nl11")

[node name="environment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_xj5u1")

[node name="geometry" type="Node3D" parent="."]
script = SubResource("GDScript_7cs6d")

[node name="Walls" type="Node3D" parent="geometry"]

[node name="CSGBox3D4" type="CSGBox3D" parent="geometry/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.62209, -39.8218, 7.282, 1.98227)
use_collision = true
size = Vector3(1, 10.3617, 13.8813)
material = SubResource("StandardMaterial3D_i11u5")

[node name="CSGBox3D8" type="CSGBox3D" parent="geometry/Walls"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1.62209, -21.5361, 7.29896, 1.96404)
use_collision = true
size = Vector3(1, 10.5584, 13.8813)
material = SubResource("StandardMaterial3D_i11u5")

[node name="CSGBox3D9" type="CSGBox3D" parent="geometry/Walls"]
transform = Transform3D(-4.37114e-08, -0.00523596, 1.62207, 0, 0.999986, 0.00849319, -1, 2.28871e-10, -7.09027e-08, -30.6497, 7.23007, 12.7347)
use_collision = true
size = Vector3(1, 10.5676, 11.8805)
material = SubResource("StandardMaterial3D_i11u5")

[node name="CSGBox3D10" type="CSGBox3D" parent="geometry/Walls"]
transform = Transform3D(-4.37114e-08, -0.00523596, 1.62207, 0, 0.999986, 0.00849319, -1, 2.28871e-10, -7.09027e-08, -30.6589, 7.18448, -8.81321)
use_collision = true
size = Vector3(1, 10.6928, 11.8777)
material = SubResource("StandardMaterial3D_i11u5")

[node name="Floor" type="Node3D" parent="geometry"]

[node name="CSGBox3D6" type="CSGBox3D" parent="geometry/Floor"]
transform = Transform3D(1.6156, 0, 0, 0, 1.6156, 0, 0, 0, 1.6156, -30.7604, 1.21438, 1.97838)
use_collision = true
size = Vector3(12, 1, 14)
material = SubResource("StandardMaterial3D_jxrtg")

[node name="MovableObjects" type="Node3D" parent="."]

[node name="MovableObject" parent="MovableObjects" instance=ExtResource("7_v25sy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -29.1431, 3.32252, -0.36557)

[node name="MovableObject2" parent="MovableObjects" instance=ExtResource("7_v25sy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25, 5, 6)

[node name="MovableObject3" parent="MovableObjects" instance=ExtResource("7_v25sy")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -37, 8, 7)

[node name="Doors" type="Node3D" parent="."]

[node name="Door" parent="Doors" instance=ExtResource("8_tb7gr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -27, 4.05247, 3)

[node name="Door2" parent="Doors" instance=ExtResource("8_tb7gr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -34, 4.02748, 3)
doorId = 1
isClosed = false

[node name="Buttons" type="Node3D" parent="."]

[node name="Button" parent="Buttons" instance=ExtResource("7_km5u8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -31.3298, 3.20258, -0.859296)
affectedObjectIds = Array[int]([0, 1])
state = Array[int]([2, 2])

[node name="PressurePlates" type="Node3D" parent="."]

[node name="PressurePlate" parent="PressurePlates" instance=ExtResource("9_g5xu0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -26, 2.04606, -3)
affectedObjectIds = Array[int]([0])
OnPressurePlatePressed = Array[int]([3])
OnPressurePlateReleased = Array[int]([7])

[node name="PressurePlate2" parent="PressurePlates" instance=ExtResource("9_g5xu0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -26, 2.04606, -3)
affectedObjectIds = Array[int]([0])
OnPressurePlatePressed = Array[int]([3])
OnPressurePlateReleased = Array[int]([7])

[node name="Ghost Objects" type="Node3D" parent="."]

[node name="GhostObject" parent="Ghost Objects" instance=ExtResource("10_yyol4")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -35.3386, 3.28396, -2.95328)

[node name="GhostItem" parent="Ghost Objects/GhostObject" index="0"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 2.00558, 0, 2.50721)

[node name="PickableObject" parent="Ghost Objects/GhostObject" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 2.00933, -4.76837e-07, 1.24137)

[node name="BarrelA" parent="." instance=ExtResource("11_y3l1f")]
transform = Transform3D(1, -1.04308e-07, 0, 0, 0.999999, 0, 1.04308e-07, 0, 1, -29.2961, 5.45957, -0.0996737)

[node name="XrPlayer" parent="." instance=ExtResource("11_hfw3n")]
transform = Transform3D(-0.866026, 0, 0.5, 0, 1, 0, -0.5, 0, -0.866026, -32.0152, 7.01571, 0.00511932)

[editable path="Ghost Objects/GhostObject"]
